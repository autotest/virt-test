- ext_server_job:
    only Linux
    testcase = "ext_server_job"
    description= "run test on external autotest server"
    asvr_ip = "kvm-autotest.englab.nay.redhat.com"
    asvr_user = "root"
    asvr_passwd = "123456"
    vms = "vm1"
    kill_vm = no
    asvr_job_timeout = 3600
    atest_basedir = "/usr/local/autotest/cli"
    get_tm_list_cmd = "atest host list"
    variants:
        - register_test_vm:
            type = ext_register_vm
            testcase = "register_test_vm"
            description = "register the VM to autotest server"
            add_host_cmd = "atest host create %s"
        - ext_test:    register_test_vm
            image_snapshot = yes
            type = ext_test
            testcase = "ext_test"
            asvr_job_timeout = 1200
            let_svr_breath = 10
            create_job_cmd = "atest job create -n -t %s -m %s %s"
            query_job_cmd = "atest job list -r"
            stat_job_cmd = "atest job stat %s"
            stat_tm_cmd = "atest host stat %s"
            # wait for the testing (virtual) machine to clean up
            wait_tm_cleanup = yes
            testname = "dbench"
            job_tag = "-katc-"
            version_tag = "kvm_auto"
            iterations = 10
        - unregister_test_vm:    register_test_vm
            type = ext_unregister_vm
            testcase = "ext_unregister_vm"
            unregister_cmd = 'atest host delete %s'
            kill_vm = yes
