# Notes:
# For windows guest, you can download md5sum.exe from http://www.brothersoft.com/md5sum-81781.html,
# then add parents dir to $PATH or config md5sum in share/cfg/guest-os/Windows.cfg;
- qemu_disk_img:
    only qcow2
    virt_test_type = qemu
    type = qemu_disk_img
    image_chain= "image1"
    kill_vm = yes
    start_vm = no
    image_size = 20G
    # md5sum binary path
    md5sum = "md5sum"
    force_create_image = no
    backup_image_before_testing = yes
    restore_image_before_testing = yes
    tmp_file_name = /tmp/test.img
    file_create_cmd = "dd if=/dev/urandom of=%s bs=4k count=250"
    variants:
        - convert:
            type = qemu_disk_img_convert
            guest_file_name = /tmp/test.img
            variants:
                - base_to_qcow2:
                    image_convert = "image1"
                    convert_name_image1 = "images/image1_to_qcow2"
                    convert_format_image1 = "qcow2"
                - base_to_raw:
                    image_convert = "image1"
                    convert_name_image1 = "images/image1_to_raw"
                    convert_format_image1 = "raw"
                - snapshot_to_qcow2:
                    image_convert = "sn1"
                    image_chain += " sn1"
                    image_name_sn1 = "images/sn1"
                    image_format_sn1 = "qcow2"
                    convert_name_sn1 = "images/sn1_to_qcow2"
                    convert_format_sn1 = "qcow2"
